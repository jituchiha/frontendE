{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jit/Desktop/SE_Sprint3/P-565_Group-32/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/jit/Desktop/SE_Sprint3/P-565_Group-32/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,phone,firstname,lastname,password){var user,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:user={email:email,phone:phone,firstname:firstname,lastname:lastname,password:password};_context.prev=1;_context.next=4;return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/register\"),{method:'POST',headers:{Accept:'application/json',\"Content-Type\":\"application/json\"},body:JSON.stringify(user)});case 4:res=_context.sent;_context.next=7;return res.json();case 7:return _context.abrupt(\"return\",_context.sent);case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);throw new Error(\"Cannot register at this time. \".concat(_context.t0));case 13:case\"end\":return _context.stop();}},_callee,null,[[1,10]]);}));return function register(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments);};}();export var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(email,password){var user,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:user={email:email,password:password};_context2.prev=1;_context2.next=4;return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/login\"),{method:\"POST\",credentials:\"include\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:JSON.stringify(user)});case 4:res=_context2.sent;_context2.next=7;return res.json();case 7:return _context2.abrupt(\"return\",_context2.sent);case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);throw new Error(\"Cannot login at this time. \".concat(_context2.t0));case 13:case\"end\":return _context2.stop();}},_callee2,null,[[1,10]]);}));return function login(_x6,_x7){return _ref2.apply(this,arguments);};}();export var verified=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(email,password){var loggedin;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return login(email,password);case 2:loggedin=_context3.sent;console.log(loggedin);if(!(loggedin.message=='Login Successful')){_context3.next=8;break;}return _context3.abrupt(\"return\",true);case 8:return _context3.abrupt(\"return\",false);case 9:case\"end\":return _context3.stop();}},_callee3);}));return function verified(_x8,_x9){return _ref3.apply(this,arguments);};}();export var logout=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var res;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/logout\"),{method:\"GET\",credentials:\"include\"});case 3:res=_context4.sent;_context4.next=6;return res.json();case 6:return _context4.abrupt(\"return\",_context4.sent);case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 12:case\"end\":return _context4.stop();}},_callee4,null,[[0,9]]);}));return function logout(){return _ref4.apply(this,arguments);};}();export var getUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var res;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/user\"),{method:\"GET\",credentials:\"include\"});case 3:res=_context5.sent;_context5.next=6;return res.json();case 6:return _context5.abrupt(\"return\",_context5.sent);case 9:_context5.prev=9;_context5.t0=_context5[\"catch\"](0);throw new Error(\"Please login to continue\");case 12:case\"end\":return _context5.stop();}},_callee5,null,[[0,9]]);}));return function getUser(){return _ref5.apply(this,arguments);};}();","map":{"version":3,"names":["register","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","phone","firstname","lastname","password","user","res","wrap","_callee$","_context","prev","next","fetch","concat","process","env","REACT_APP_API_URL","method","headers","Accept","body","JSON","stringify","sent","json","abrupt","t0","Error","stop","_x","_x2","_x3","_x4","_x5","apply","arguments","login","_ref2","_callee2","_callee2$","_context2","credentials","_x6","_x7","verified","_ref3","_callee3","loggedin","_callee3$","_context3","console","log","message","_x8","_x9","logout","_ref4","_callee4","_callee4$","_context4","getUser","_ref5","_callee5","_callee5$","_context5"],"sources":["/Users/jit/Desktop/SE_Sprint3/P-565_Group-32/client/src/api/user.js"],"sourcesContent":["export const register = async (email,phone,firstname,lastname,password) =>{\n\n    const user ={email,phone,firstname,lastname,password};\n\n    try{\n        const res =await fetch(`${process.env.REACT_APP_API_URL}/register`,{\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(user)\n        });\n\n        return await res.json();\n\n    } catch(err) {\n\n        throw new Error(`Cannot register at this time. ${err}`);\n\n    }\n\n};\n\nexport const login = async (email,password) =>{\n\n    const user ={email,password};\n    \n    try{\n        const res =await fetch(`${process.env.REACT_APP_API_URL}/login`,{\n            method: \"POST\",\n            credentials: \"include\",\n            headers: {\n                Accept: \"application/json\",\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify(user)\n        });\n\n        return await res.json();\n\n    } catch(err) {\n\n        throw new Error(`Cannot login at this time. ${err}`);\n\n    }\n\n};\n\nexport const verified = async (email, password) => {\n    const loggedin = await login(email, password);\n    console.log(loggedin)\n    if (loggedin.message == 'Login Successful') {\n        return true\n     }\n     else {\n        return false\n     }    \n\n}\n\n\nexport const logout = async () =>{\n    try {\n        const res = await fetch (`${process.env.REACT_APP_API_URL}/logout`,{\n            method:\"GET\",\n            credentials: \"include\",\n        });\n\n        return await res.json();\n    } catch (err) {\n        console.log(err);\n    }\n};\n\nexport const getUser = async () =>{\n    try {\n        const res = await fetch (`${process.env.REACT_APP_API_URL}/user`,{\n            method:\"GET\",\n            credentials: \"include\",\n        });\n\n        return await res.json();\n    } catch (err) {\n        throw new Error(\"Please login to continue\");\n    }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}